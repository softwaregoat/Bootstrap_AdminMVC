@model admindx.Models.t_lote

@{
    ViewBag.Title = "Cargar Lote";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@Styles.Render("~/Content/bootstrap-select-css")

@Scripts.Render("~/bundles/jqueryval")

@Scripts.Render("~/bundles/bootstrap-select-js")
@Scripts.Render("~/bundles/bootstrap-select-js-es")

@using (Html.BeginForm("Create", "Lote", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Cargar lote</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="form-group">
            @Html.LabelFor(model => model.id_proyecto, "Proyecto", htmlAttributes: new { @class = "control-label col-md-12" })
            <div class="col-md-10">
                @Html.DropDownList("id_proyecto", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.id_proyecto, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.id_subdependencia, "Sub dependencia", htmlAttributes: new { @class = "control-label col-md-12" })
            <div class="col-md-offset-2 col-md-10">
                <select id="id_subdependencia" name="id_subdependencia" class="form-control selectSubdependencia" data-actions-box="true"></select>
                @Html.ValidationMessageFor(model => model.id_subdependencia, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.id_subserie, "Subserie", htmlAttributes: new { @class = "control-label col-md-12" })
            <div class="col-md-10">
                <select id="id_subserie" name="id_subserie" class="form-control selectSubserie" data-actions-box="true"></select>
                @Html.ValidationMessageFor(model => model.id_subserie, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.nom_lote, htmlAttributes: new { @class = "control-label col-md-12" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.nom_lote, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.nom_lote, "", new { @class = "text-danger" })
                @Html.ValidationMessage("errorNomLote", new { @class = "text-danger" })
            </div>
        </div>


        <div class="form-group">
            @Html.LabelFor(model => model.marco, htmlAttributes: new { @class = "control-label col-md-12" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.marco, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.marco, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.Label("Asignar a Usuarios", new { @class = "control-label col-md-12" })
            <div class="col-md-offset-2 col-md-10">
                <select id="asignacion" name="asignacion" class="form-control selectUsuarios" multiple data-actions-box="true"></select>
            </div>
            @Html.ValidationMessage("errorAsignacion", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            @Html.Label("Cargar archivo", new { @class = "control-label col-md-12" })
            <div class="col-md-offset-2 col-md-10">
                <input type="file" id="file" name="file" class="form-control" accept=".csv" />
                <img src="~/Assets/img/formatoLote.png" style="width: inherit;max-width: 480px;">
            </div>
            @Html.ValidationMessage("errorArchivo", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Cargar" class="btn btn-success" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Volver al listado", "Index")
</div>
@Scripts.Render("~/bundles/loteCreate")